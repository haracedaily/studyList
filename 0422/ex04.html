<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .active {color:red;}

    </style>
</head>
<body>
    <ul id="ul">
        <li>바나나</li>
        <li>사과</li>
        <li>수박</li>
        <ul>
            <li>test</li>
            <li>test</li>
            <li>test</li>
        </ul>
    </ul>
    <script>
        const $ul = document.getElementById('ul');
        console.log($ul.children); // ul 요소
        [...$ul.children].forEach(li => {
            li.addEventListener('click', active); // 캡쳐링 단계에서 이벤트 리스너가 실행되도록 설정
        });

        function active(event) {
            console.log(event.target); // 3단계 bubbling 0이벤트 전파x 1 캡쳐링 2 현재 이벤트(target) 3 bubbling
            if(event.target.matches('#ul>li'))
            [...$ul.children].forEach(li => {
                li.classList.toggle('active',li===event.target);
            });
        }
        /* 
        document.getElementById('ul').addEventListener('click', function(event) {
            console.log(event.eventPhase); // 3단계 bubbling 0이벤트 전파x 1 캡쳐링 2 현재 이벤트(target) 3 bubbling
            console.log(event); // 이벤트 객체
            console.log(event.target); // 이벤트가 발생한 요소
            console.log(event.currentTarget); // 이벤트 리스너가 바인딩된 요소
            event.target.classList.toggle('active'); // 클릭한 요소에 active 클래스 추가/제거
        }, true); // 캡쳐링 단계에서 이벤트 리스너가 실행되도록 설정
 */
    </script>
</body>
</html>