<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        background-color: #fff700;
        height: 100vh;
        padding:0;
        margin:0;
    }
    p{
        background-color:aliceblue
    }
</style>
<body>
    <p>안녕하세요 p 문단 태그입니다. <button>버튼</button></p>

    <script>
        document.querySelector('body').addEventListener('click', function(event) {
            console.log(event.eventPhase); // 3단계 bubbling 0이벤트 전파x 1 캡쳐링 2 현재 이벤트(target) 3 bubbling
            console.log(event); // 이벤트 객체
            console.log(event.target); // 이벤트가 발생한 요소
            console.log(event.currentTarget); // 이벤트 리스너가 바인딩된 요소
        }); // 버블링 단계에서는 body 요소에서 이벤트가 발생한 요소(target)가 부모 요소(currentTarget)보다 먼저 실행된다.
        //캡쳐링 단계에서 이벤트 리스너가 실행되도록 설정하면, 이벤트가 발생한 요소(target)보다 부모 요소(currentTarget)에서 먼저 실행된다.
        document.querySelector('button').addEventListener('click', function(event) {
            event.stopPropagation(); // 이벤트 전파를 막는다.
            console.log(event.eventPhase); // 3단계 bubbling 0이벤트 전파x 1 캡쳐링 2 현재 이벤트(target) 3 bubbling
            console.log(event); // 이벤트 객체
            console.log(event.target); // 이벤트가 발생한 요소
            console.log(event.currentTarget); // 이벤트 리스너가 바인딩된 요소
        }, true); // 캡쳐링 단계에서 이벤트 리스너가 실행되도록 설정
        document.querySelector('p').addEventListener('click', function(event) {
            console.log(event.eventPhase); // 3단계 bubbling 0이벤트 전파x 1 캡쳐링 2 현재 이벤트(target) 3 bubbling
            console.log(event); // 이벤트 객체
            console.log(event.target); // 이벤트가 발생한 요소
            console.log(event.currentTarget); // 이벤트 리스너가 바인딩된 요소
        }); 

    </script>
</body>
</html>